FROM mageai/mageai:alpha
ARG GCP_PROJECT_NAME
ARG ARTIFACT_STORAGE
ARG PROJECT_NAME=Basketball_results_prediction
ARG MAGE_CODE_PATH=/home/src
ARG USER_CODE_PATH=${MAGE_CODE_PATH}/${PROJECT_NAME}
ARG GOOGLE_CREDENTIALS


#COPY ${PROJECT_NAME} ${PROJECT_NAME}
#COPY ${GOOGLE_CREDENTIALS} credentials.json
COPY "./orchestration/" ${MAGE_CODE_PATH}

ENV USER_CODE_PATH=${USER_CODE_PATH}

# Install custom Python libraries and dependencies for your project.
RUN pip3 install -r ${USER_CODE_PATH}/requirements.txt

ENV PYTHONPATH="${PYTHONPATH}:${MAGE_CODE_PATH}/${PROJECT_NAME}"
ENV ARTIFACT_STORAGE="${ARTIFACT_STORAGE}"
ENV PROJECT_NAME="${PROJECT_NAME}"
ENV GCP_PROJECT_NAME="${GCP_PROJECT_NAME}"